
  
    
    

  

  
    
    

  

  
    
    

  

  
    
    

  

  
    
    

  

  
    
    

  

  
    
    

  

  
    
    

  

  
    
    

  


<!Doctype html>
<html id="docs" class="Support">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href='https://fonts.googleapis.com/css?family=Roboto+Mono' type='text/css'>
    <link rel="stylesheet" href="/css/styles.css"/>
    <link rel="stylesheet" href="/css/jquery-ui.min.css">
    <link rel="stylesheet" href="/css/sweetalert.css">
    
    <script src="/js/jquery-2.2.0.min.js"></script>
    <script src="/js/jquery-ui.min.js"></script>
    <script src="/js/script.js"></script>
    <script src="/js/sweetalert.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <!-- Begin Jekyll SEO tag v2.1.0 -->
<title>DCOS - Kubernetes</title>
<meta property="og:title" content="DCOS" />
<meta name="description" content="Production-Grade Container Orchestration" />
<meta property="og:description" content="Production-Grade Container Orchestration" />
<link rel="canonical" href="http://localhost:4000/docs/getting-started-guides/dcos/" />
<meta property="og:url" content="http://localhost:4000/docs/getting-started-guides/dcos/" />
<meta property="og:site_name" content="Kubernetes" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "WebPage",
"headline": "DCOS",
"description": "Production-Grade Container Orchestration",
"publisher": {"@type": "Organization",
"logo": {"@type": "ImageObject",
"url": "http://localhost:4000/images/favicon.png"}},
"url": "http://localhost:4000/docs/getting-started-guides/dcos/"}</script>
<!-- End Jekyll SEO tag -->

</head>


<body>

<div id="cellophane" onclick="kub.toggleMenu()"></div>

<header>
    <a href="/" class="logo"></a>

    <div class="nav-buttons" data-auto-burger="primary">
        <ul class="global-nav">
            <li><a href="/docs/">View Documentation</a></li>
            <li><a href="http://blog.kubernetes.io/">Blog</a></li>
            <li><a href="/partners/">Partners</a></li>
            <li><a href="/community/">Community</a></li>
            <li><a href="/case-studies/">Case Studies</a></li>
        </ul>
        <!-- <a href="/docs/" class="button" id="viewDocs" data-auto-burger-exclude>View Documentation</a> -->
        <a href="/docs/tutorials/kubernetes-basics/" class="button" id="tryKubernetes" data-auto-burger-exclude>Try IFC</a>
        <button id="hamburger" onclick="kub.toggleMenu()" data-auto-burger-exclude><div></div></button>
    </div>

    <nav id="mainNav">
        <main data-auto-burger="primary">
        <div class="nav-box">
            <h3><a href="/docs/hellonode/">Get Started</a></h3>
            <p>Ready to get your hands dirty? Build a simple ifc cluster that runs "Hello World" for Node.js.</p>
        </div>
        <div class="nav-box">
            <h3><a href="/docs/">Documentation</a></h3>
            <p>Learn how to use ifc with the use of walkthroughs, samples, and reference documentation. You can even <a href="/editdocs/" data-auto-burger-exclude>help contribute to the docs</a>!</p>
        </div>
        <div class="nav-box">
            <h3><a href="/community/">Community</a></h3>
            <p>If you need help, you can connect with other ifc users and the ifc authors, attend community events, and watch video presentations from around the web.</p>
        </div>
        <div class="nav-box">
            <h3><a href="http://blog.ifc.io">Blog</a></h3>
            <p>Read the latest news for ifc and the containers space in general, and get technical how-tos hot off the presses.</p>
        </div>
        </main>
        <main data-auto-burger="primary">
        <div class="left">
            <h5 class="github-invite">Interested in hacking on the core ifc code base?</h5>
            <a href="https://github.com/ifc/ifc" class="button" data-auto-burger-exclude>View On Github</a>
        </div>

        <div class="right">
            <h5 class="github-invite">Explore the community</h5>
            <div class="social">
                <a href="https://twitter.com/ifcio" class="twitter"><span>Twitter</span></a>
                <a href="https://github.com/ifc/ifc" class="github"><span>Github</span></a>
                <a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
                <a href="http://stackoverflow.com/questions/tagged/ifc" class="stack-overflow"><span>Stack Overflow</span></a>
                <a href="https://groups.google.com/forum/#!forum/ifc-users" class="mailing-list"><span>Mailing List</span></a>
                <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
            </div>
        </div>
        <div class="clear" style="clear: both"></div>
        </main>
    </nav>
</header>


<!--  HERO  -->
<section id="hero" class="light-text">
  <h1>Support</h1>
  <h5>Troubleshooting resources, frequently asked questions, and community support channels.</h5>
  <div id="vendorStrip" class="light-text">
    <ul>
      <li><a href="/docs/" >DOCS HOME</a></li>
      <li><a href="/docs/user-guide/" >GUIDES</a></li>
      <li><a href="/docs/tutorials/" >TUTORIALS</a></li>
      <li><a href="/docs/tasks/" >TASKS</a></li>
      <li><a href="/docs/concepts/" >CONCEPTS</a></li>
      <li><a href="/docs/reference/" >REFERENCE</a></li>
      <li><a href="/docs/tools/" >TOOLS</a></li>
      <!-- <li><a href="/docs/samples/" >SAMPLES</a></li> -->
      <li><a href="/docs/troubleshooting/" class="YAH">SUPPORT</a></li>
    </ul>
    <div id="searchBox">
      <input type="text" id="search" placeholder="Search" onkeydown="if (event.keyCode==13) window.location.replace('/docs/search/?q=' + this.value)">
    </div>
  </div>
</section>

<section id="encyclopedia">
  <div id="docsToc">
        <div class="pi-accordion">
        
          
  

    

    
      <a class="item" data-title="Support" href="/docs/troubleshooting/"></a>
    
  

  
    <div class="item" data-title="Troubleshooting">
      <div class="container">
        
  

    

    
      <a class="item" data-title="User Guide" href="/docs/user-guide/"></a>
    
  


      </div>
    </div>
  

  
    <div class="item" data-title="Frequently Asked Questions">
      <div class="container">
        
  

    

    
      <a class="item" data-title="User FAQ" href="/docs/faq/user.md"></a>
    
  

  

    

    
      <a class="item" data-title="Developer FAQ" href="/docs/faq/developer.md"></a>
    
  


      </div>
    </div>
  

  
    <div class="item" data-title="Contributing to the IFC Docs">
      <div class="container">
        
  

    

    
      <a class="item" data-title="Contributing to the Kubernetes Documentation" href="/editdocs/"></a>
    
  

  

    

    
      <a class="item" data-title="Creating a Documentation Pull Request" href="/docs/contribute/create-pull-request/"></a>
    
  

  

    

    
      <a class="item" data-title="Writing a New Topic" href="/docs/contribute/write-new-topic/"></a>
    
  

  

    

    
      <a class="item" data-title="Staging Your Documentation Changes" href="/docs/contribute/stage-documentation-changes/"></a>
    
  

  

    

    
      <a class="item" data-title="Using Page Templates" href="/docs/contribute/page-templates/"></a>
    
  

  

    

    
      <a class="item" data-title="Reviewing Documentation Issues" href="/docs/contribute/review-issues/"></a>
    
  

  

    

    
      <a class="item" data-title="Documentation Style Guide" href="/docs/contribute/style-guide/"></a>
    
  


      </div>
    </div>
  

  
    <div class="item" data-title="Other Resources">
      <div class="container">
        
  

    

    
      <a class="item" data-title="IFC Issue Tracker on GitHub" href="https://github.com/"></a>
    
  

  

    

    
      <a class="item" data-title="Report a Security Vulnerability" href="/docs/reporting-security-issues/"></a>
    
  

  

    

    
      <a class="item" data-title="IFC Release Notes" href="https://github.com/"></a>
    
  

  

    

    
      <a class="item" data-title="Release Roadmap" href="https://github.com/"></a>
    
  


      </div>
    </div>
  


        
        </div> <!-- /pi-accordion -->
    <button class="push-menu-close-button" onclick="kub.toggleToc()"></button>
  </div> <!-- /docsToc -->

  <div id="docsContent">
        <p><a href="/editdocs#docs/getting-started-guides/dcos.md" id="editPageButton">Edit This Page</a></p>

        
          <h1>DCOS</h1>
        

        <p>This guide will walk you through installing <a href="https://github.com/mesosphere/kubernetes-mesos">Kubernetes-Mesos</a> on <a href="https://mesosphere.com/product/">Datacenter Operating System (DCOS)</a> with the <a href="https://github.com/mesosphere/dcos-cli">DCOS CLI</a> and operating Kubernetes with the <a href="https://github.com/mesosphere/dcos-kubectl">DCOS Kubectl plugin</a>.</p>

<ul id="markdown-toc">
  <li><a href="#about-kubernetes-on-dcos" id="markdown-toc-about-kubernetes-on-dcos">About Kubernetes on DCOS</a></li>
  <li><a href="#resources" id="markdown-toc-resources">Resources</a></li>
  <li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a></li>
  <li><a href="#install" id="markdown-toc-install">Install</a></li>
  <li><a href="#uninstall" id="markdown-toc-uninstall">Uninstall</a></li>
  <li><a href="#support-level" id="markdown-toc-support-level">Support Level</a></li>
</ul>

<h2 id="about-kubernetes-on-dcos">About Kubernetes on DCOS</h2>

<p>DCOS is system software that manages computer cluster hardware and software resources and provides common services for distributed applications. Among other services, it provides <a href="http://mesos.apache.org/">Apache Mesos</a> as its cluster kernel and <a href="https://mesosphere.github.io/marathon/">Marathon</a> as its init system. With DCOS CLI, Mesos frameworks like <a href="https://github.com/mesosphere/kubernetes-mesos">Kubernetes-Mesos</a> can be installed with a single command.</p>

<p>Another feature of the DCOS CLI is that it allows plugins like the <a href="https://github.com/mesosphere/dcos-kubectl">DCOS Kubectl plugin</a>. This allows for easy access to a version-compatible Kubectl without having to manually download or install.</p>

<p>Further information about the benefits of installing Kubernetes on DCOS can be found in the <a href="https://releases.k8s.io/master/contrib/mesos/README.md">Kubernetes-Mesos documentation</a>.</p>

<p>For more details about the Kubernetes DCOS packaging, see the <a href="https://github.com/mesosphere/kubernetes-mesos">Kubernetes-Mesos project</a>.</p>

<p>Since Kubernetes-Mesos is still alpha, it is a good idea to familiarize yourself with the <a href="https://releases.k8s.io/master/contrib/mesos/docs/issues.md">current known issues</a> which may limit or modify the behavior of Kubernetes on DCOS.</p>

<p>If you have problems completing the steps below, please <a href="https://github.com/mesosphere/kubernetes-mesos/issues">file an issue against the kubernetes-mesos project</a>.</p>

<h2 id="resources">Resources</h2>

<p>Explore the following resources for more information about Kubernetes, Kubernetes on Mesos/DCOS, and DCOS itself.</p>

<ul>
  <li><a href="https://docs.mesosphere.com/">DCOS Documentation</a></li>
  <li><a href="https://docs.mesosphere.com/services/kubernetes/">Managing DCOS Services</a></li>
  <li><a href="https://github.com/kubernetes/kubernetes/tree/master/examples/">Kubernetes Examples</a></li>
  <li><a href="https://github.com/kubernetes-incubator/kube-mesos-framework/blob/master/README.md">Kubernetes on Mesos Documentation</a></li>
  <li><a href="https://github.com/mesosphere/kubernetes-mesos/releases">Kubernetes on Mesos Release Notes</a></li>
  <li><a href="https://github.com/mesosphere/kubernetes-mesos">Kubernetes on DCOS Package Source</a></li>
</ul>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
  <li>A running <a href="https://mesosphere.com/product/">DCOS cluster</a>
    <ul>
      <li><a href="https://docs.mesosphere.com/install/">DCOS Community Edition</a> is currently available on <a href="https://mesosphere.com/amazon/">AWS</a>.</li>
      <li><a href="https://mesosphere.com/product/">DCOS Enterprise Edition</a> can be deployed on virtual or bare metal machines. Contact sales@mesosphere.com for more info and to set up an engagement.</li>
    </ul>
  </li>
  <li><a href="https://docs.mesosphere.com/install/cli/">DCOS CLI</a> installed locally</li>
</ul>

<h2 id="install">Install</h2>

<ol>
  <li>
    <p>Configure and validate the <a href="https://github.com/mesosphere/multiverse">Mesosphere Multiverse</a> as a package source repository</p>

    <div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>dcos config prepend package.sources https://github.com/mesosphere/multiverse/archive/version-1.x.zip
 <span class="nv">$ </span>dcos package update --validate
</code></pre>
    </div>
  </li>
  <li>
    <p>Install etcd</p>

    <p>By default, the Kubernetes DCOS package starts a single-node etcd. In order to avoid state loss in the event of Kubernetes component container failure, install an HA <a href="https://github.com/mesosphere/etcd-mesos">etcd-mesos</a> cluster on DCOS.</p>

    <div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>dcos package install etcd
</code></pre>
    </div>
  </li>
  <li>
    <p>Verify that etcd is installed and healthy</p>

    <p>The etcd cluster takes a short while to deploy. Verify that <code class="highlighter-rouge">/etcd</code> is healthy before going on to the next step.</p>

    <div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>dcos marathon app list
 ID           MEM  CPUS  TASKS  HEALTH  DEPLOYMENT  CONTAINER  CMD
 /etcd        128  0.2    1/1    1/1       ---        DOCKER   None
</code></pre>
    </div>
  </li>
  <li>
    <p>Create Kubernetes installation configuration</p>

    <p>Configure Kubernetes to use the HA etcd installed on DCOS.</p>

    <div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>cat &gt;/tmp/options.json <span class="sh">&lt;&lt;EOF
 {
   "kubernetes": {
     "etcd-mesos-framework-name": "etcd"
   }
 }
 EOF
</span></code></pre>
    </div>
  </li>
  <li>
    <p>Install Kubernetes</p>

    <div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>dcos package install --options<span class="o">=</span>/tmp/options.json kubernetes
</code></pre>
    </div>
  </li>
  <li>
    <p>Verify that Kubernetes is installed and healthy</p>

    <p>The Kubernetes cluster takes a short while to deploy. Verify that <code class="highlighter-rouge">/kubernetes</code> is healthy before going on to the next step.</p>

    <div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>dcos marathon app list
 ID           MEM  CPUS  TASKS  HEALTH  DEPLOYMENT  CONTAINER  CMD
 /etcd        128  0.2    1/1    1/1       ---        DOCKER   None
 /kubernetes  768   1     1/1    1/1       ---        DOCKER   None
</code></pre>
    </div>
  </li>
  <li>
    <p>Verify that Kube-DNS &amp; Kube-UI are deployed, running, and ready</p>

    <div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>dcos kubectl get pods --namespace<span class="o">=</span>kube-system
 NAME                READY     STATUS    RESTARTS   AGE
 kube-dns-v8-tjxk9   4/4       Running   0          1m
 kube-ui-v2-tjq7b    1/1       Running   0          1m
</code></pre>
    </div>
    <p>Names and ages may vary.</p>
  </li>
</ol>

<p>Now that Kubernetes is installed on DCOS, you may wish to explore the <a href="https://github.com/kubernetes/kubernetes/tree/master/examples/README.md">Kubernetes Examples</a> or the <a href="/docs/user-guide/">Kubernetes User Guide</a>.</p>

<h2 id="uninstall">Uninstall</h2>

<ol>
  <li>
    <p>Stop and delete all replication controllers and pods in each namespace:</p>

    <p>Before uninstalling Kubernetes, destroy all the pods and replication controllers. The uninstall process will try to do this itself, but by default it times out quickly and may leave your cluster in a dirty state.</p>

    <div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>dcos kubectl delete rc,pods --all --namespace<span class="o">=</span>default
 <span class="nv">$ </span>dcos kubectl delete rc,pods --all --namespace<span class="o">=</span>kube-system
</code></pre>
    </div>
  </li>
  <li>
    <p>Validate that all pods have been deleted</p>

    <div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>dcos kubectl get pods --all-namespaces
</code></pre>
    </div>
  </li>
  <li>
    <p>Uninstall Kubernetes</p>

    <div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>dcos package uninstall kubernetes
</code></pre>
    </div>
    <h2 id="support-level">Support Level</h2>
  </li>
</ol>

<table>
  <thead>
    <tr>
      <th>IaaS Provider</th>
      <th>Config. Mgmt</th>
      <th>OS</th>
      <th>Networking</th>
      <th>Docs</th>
      <th>Conforms</th>
      <th>Support Level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>DCOS</td>
      <td>Marathon</td>
      <td>CoreOS/Alpine</td>
      <td>custom</td>
      <td><a href="/docs/getting-started-guides/dcos">docs</a></td>
      <td>Â </td>
      <td>Community (<a href="https://github.com/mesosphere/kubernetes-mesos/blob/master/AUTHORS.md">Kubernetes-Mesos Authors</a>)</td>
    </tr>
  </tbody>
</table>

<p>For support level information on all solutions, see the <a href="/docs/getting-started-guides/#table-of-solutions">Table of solutions</a> chart.</p>


        <p><a href=""><img src="https://kubernetes-site.appspot.com/UA-36037335-10/GitHub/docs/getting-started-guides/dcos.md?pixel" alt="Analytics" /></a>
        
		<!-- <script type="text/javascript">
	        PDRTJS_settings_8345992 = {
		        "id" : "8345992",
		        "unique_id" : "/docs/getting-started-guides/dcos/",
		        "title" : "DCOS",
		        "permalink" : "http://kubernetes.github.io/docs/getting-started-guides/dcos/"
	        };
	        (function(d,c,j){if(!document.getElementById(j)){var pd=d.createElement(c),s;pd.id=j;pd.src=('https:'==document.location.protocol)?'https://polldaddy.com/js/rating/rating.js':'http://i0.poll.fm/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd,s);}}(document,'script','pd-rating-js'));
		</script> -->

  <!-- Need to attach listener to the 'make an issue' button below -->

		<a href="" onclick="window.open('https://github.com/bigdoods/bigdoods.github.io/issues/new?title=Issue%20with%20' +
		window.location.pathname)" class="button issue">Create an Issue</a>
		<a href="/editdocs#docs/getting-started-guides/dcos.md" class="button issue">Edit this Page</a>
	
	</div>
</section>

<footer>
	<main class="light-text">
		<nav>
			<a href="/docs/hellonode/">Get Started</a>
			<a href="/docs/">Documentation</a>
			<a href="http://www.buildingsmart-tech.org/blogs">Blog</a>
			<a href="/community/">Community</a>
		</nav>
		<div class="social">
			<div>
				<a href="https://twitter.com/buildingSMART" class="twitter"><span>twitter</span></a>
				<a href="https://github.com/BuildingSMART" class="github"><span>Github</span></a>
				<a href="https://buildingsmart-team-slackin.herokuapp.com/" class="slack"><span>Slack</span></a>
			</div>
			<div>
				<a href="http://stackoverflow.com/questions/tagged/ifc" class="stack-overflow"><span>Stack Overflow</span></a>
				<a href="https://buildingsmartapi.mobilize.io/" class="mailing-list"><span>Mailing List</span></a>
				<a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
			</div>
			<div>
				<a href="https://www.linkedin.com/groups/3690870" class="linkedIn"><span>LinkedIn</span></a>
			</div>
			<div>
				<span>I wish this page</span>
				<input type="text" id="wishField" name="wishField" placeholder="enter your wish">
			</div>
		</div>
		<div id="miceType" class="center">
			<!-- &copy; 2017 The Kubernetes Authors | Documentation Distributed under <a href="https://github.com/bigdoods/bigdoods.github.io/blob/master/LICENSE" class="light-text">CC BY 4.0</a> -->
		</div>
		<div id="miceType" class="center">
			&copy; 2017 Buildingsmart
			<!-- Copyright &copy; 2017 The Linux Foundation&reg;. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our Trademark Usage page: <a href="https://www.linuxfoundation.org/trademark-usage" class="light-text">https://www.linuxfoundation.org/trademark-usage</a> -->
		</div>
	</main>
</footer>

<button class="flyout-button" onclick="kub.toggleToc()"></button>

<style>
.cse .gsc-control-cse, .gsc-control-cse, {
    padding: 0;
}
  .gsc-control-cse table, .gsc-control-cse-en table {
      margin:0px !important;
  }
  .gsc-above-wrapper-area {
      border-bottom: 0;
  }
</style>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-36037335-10', 'auto');
ga('send', 'pageview');

// hide docs nav area if no nav is present, or if nav only contains a link to the current page
(function () {
    window.addEventListener('DOMContentLoaded', init)

        // play nice with our neighbors
        function init() {
            window.removeEventListener('DOMContentLoaded', init)
                hideNav()
        }

    function hideNav(toc){
        if (!toc) toc = document.querySelector('#docsToc')
            var container = toc.querySelector('.container')

                // container is built dynamically, so it may not be present on the first runloop
                if (container) {
                    if (container.childElementCount === 0 || toc.querySelectorAll('a.item').length === 1) {
                        toc.style.display = 'none'
                            document.getElementById('docsContent').style.width = '100%'
                    }
                } else {
                    requestAnimationFrame(function () {
                        hideNav(toc)
                    })
                }
    }
})();
</script>

<!-- Commenting out AnswerDash for now; we need to work on our list of questions/answers/design first
    <!-- Start of AnswerDash script <script>var AnswerDash;!function(e,t,n,s,a){if(!t.getElementById(s)){var i,r=t.createElement(n),c=t.getElementsByTagName(n)[0];e[a]||(i=e[a]=function(){i.__oninit.push(arguments)},i.__oninit=[]),r.type="text/javascript",r.async=!0,r.src="https://p1.answerdash.com/answerdash.min.js?siteid=756",r.setAttribute("id",s),c.parentNode.insertBefore(r,c)}}(window,document,"script","answerdash-script","AnswerDash");</script> <!-- End of AnswerDash script -->


</body>
</html>
